<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Clean Assets Loading - Using your existing files -->
    <template id="custom_assets" inherit_id="website.layout" name="Custom Assets">
        <xpath expr="//head" position="inside">
            <!-- Load Tailwind CDN -->
            <script src="https://cdn.tailwindcss.com"></script>

            <!-- Basic styling for proper z-index and layout -->
            <style>
                /* Ensure proper z-index layering */
                .navbar, header {
                    z-index: 999;
                }

                .menu-categories-popup {
                    z-index: 998;
                }

                .mobile-categories-popup {
                    z-index: 1001;
                }

                /* Smooth scroll disabled - let JS handle it */
                html {
                    scroll-behavior: auto;
                }
            </style>
        </xpath>

        <!-- Load JavaScript files in correct order at bottom -->
        <xpath expr="//body" position="inside">
            <!-- STEP 1: Core scroll utilities FIRST -->
            <script type="text/javascript" src="/website_customizations/static/src/js/utils/scroll_utils.js"></script>

            <!-- STEP 2: Component scripts in dependency order -->
            <script type="text/javascript" src="/website_customizations/static/src/js/components/hero_section/hero_carousel_config.js"></script>
            <script type="text/javascript" src="/website_customizations/static/src/js/components/navbar/menu_popup.js"></script>
            <script type="text/javascript" src="/website_customizations/static/src/js/components/navbar/navbar_mobile.js"></script>
            <script type="text/javascript" src="/website_customizations/static/src/js/components/product_popup/cravely_product_popup.js"></script>
            <script type="text/javascript" src="/website_customizations/static/src/js/components/cart_popup/cravely_cart.js"></script>

            <!-- STEP 3: Category strip LAST -->
            <script type="text/javascript" src="/website_customizations/static/src/js/components/category_strip/category_strip_main.js"></script>
        </xpath>
    </template>
</odoo>