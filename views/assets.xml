<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Clean Assets Loading - Using your existing files -->
    <template id="custom_assets" inherit_id="website.layout" name="Custom Assets">
        <xpath expr="//head" position="inside">
            <!-- Load Tailwind CDN -->
            <script src="https://cdn.tailwindcss.com"></script>

            <!-- Basic styling for proper z-index and layout -->
            <style>
                /* Ensure proper z-index layering */
                .navbar, header {
                z-index: 999;
                }

                .menu-categories-popup {
                z-index: 998;
                }

                .mobile-categories-popup {
                z-index: 1001;
                }

                /* Smooth scroll disabled - let JS handle it */
                html {
                scroll-behavior: auto;
                }
                /* Integration-specific styles */
                .checkout-integration-notice {
                display: none;
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: #7abfba;
                color: white;
                padding: 10px 15px;
                border-radius: 8px;
                z-index: 10000;
                font-family: 'Montserrat', sans-serif;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                }
            </style>
        </xpath>

        <!-- Load JavaScript files in correct order at bottom -->
        <xpath expr="//body" position="inside">
            <!-- STEP 1: Core scroll utilities FIRST -->
            <script type="text/javascript" src="/website_customizations/static/src/js/utils/scroll_utils.js"></script>

            <!-- STEP 2: Component scripts in dependency order -->
            <script type="text/javascript"
                    src="/website_customizations/static/src/js/components/hero_section/hero_carousel_config.js"></script>
            <script type="text/javascript"
                    src="/website_customizations/static/src/js/components/navbar/menu_popup.js"></script>
            <script type="text/javascript"
                    src="/website_customizations/static/src/js/components/navbar/navbar_mobile.js"></script>
            <script type="text/javascript"
                    src="/website_customizations/static/src/js/components/product_popup/cravely_product_popup.js"></script>
            <script type="text/javascript"
                    src="/website_customizations/static/src/js/components/cart_popup/cravely_cart.js"></script>
            <script type="text/javascript"
                    src="/website_customizations/static/src/js/integration/cart_checkout_integration.js"></script>
            <div id="checkout-integration-notice" class="checkout-integration-notice"></div>
            <script type="text/javascript"
                    src="/website_customizations/static/src/js/components/checkout/checkout.js"></script>

            <!-- STEP 3: Category strip LAST -->
            <script type="text/javascript"
                    src="/website_customizations/static/src/js/components/category_strip/category_strip_main.js"></script>
        </xpath>
    </template>
</odoo>