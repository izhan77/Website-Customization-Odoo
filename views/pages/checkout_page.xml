<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="checkout_page" name="Checkout Page">
        <t t-call="website.layout">
            <div id="wrap" class="checkout-page-wrapper">
                <!-- Main Checkout Container -->
                <div class="checkout-main-container">
                    <!-- Left Column - Customer Information and Payment -->
                    <div class="checkout-left-column">

                        <!-- Customer Information Section -->
                        <div class="checkout-section customer-info-section">
                            <h2 class="section-title">Customer Information</h2>

                            <form id="checkout-form" class="checkout-form">
                                <!-- Full Name -->
                                <div class="form-group">
                                    <input type="text"
                                           id="customer-name"
                                           class="form-input"
                                           placeholder="Full Name"
                                           required="required"/>
                                </div>

                                <!-- Contact Information Row -->
                                <div class="form-row">
                                    <div class="form-group phone-group">
                                        <div class="phone-input-container-fixed">
                                            <span class="country-code-fixed">ðŸ‡µðŸ‡° +92</span>
                                            <input type="tel"
                                                   id="customer-phone"
                                                   class="form-input phone-input-fixed"
                                                   placeholder="300 1234567"
                                                   required="required"/>
                                        </div>
                                    </div>
                                    <div class="form-group email-group">
                                        <input type="email"
                                               id="customer-email"
                                               class="form-input"
                                               placeholder="Email Address"
                                               required="required"/>
                                    </div>
                                </div>

                                <!-- Location Information Row -->
                                <div class="form-row">
                                    <div class="form-group">
                                        <!-- Custom Province Dropdown -->
                                        <div class="custom-dropdown" id="province-dropdown">
                                            <div class="custom-dropdown-selected" id="province-selected">
                                                <span>Select State/Province</span>
                                                <svg class="dropdown-arrow" viewBox="0 0 24 24" fill="none"
                                                     stroke="currentColor" stroke-width="2">
                                                    <polyline points="6,9 12,15 18,9"></polyline>
                                                </svg>
                                            </div>
                                            <div class="custom-dropdown-options" id="province-options">
                                                <!-- Options will be populated by JavaScript -->
                                            </div>
                                        </div>
                                        <input type="hidden" id="customer-state" name="customer-state"
                                               required="required"/>
                                    </div>
                                    <div class="form-group">
                                        <!-- Custom City Dropdown -->
                                        <div class="custom-dropdown disabled" id="city-dropdown">
                                            <div class="custom-dropdown-selected" id="city-selected">
                                                <span>Select City</span>
                                                <svg class="dropdown-arrow" viewBox="0 0 24 24" fill="none"
                                                     stroke="currentColor" stroke-width="2">
                                                    <polyline points="6,9 12,15 18,9"></polyline>
                                                </svg>
                                            </div>
                                            <div class="custom-dropdown-options" id="city-options">
                                                <!-- Options will be populated by JavaScript -->
                                            </div>
                                        </div>
                                        <input type="hidden" id="customer-city" name="customer-city"
                                               required="required"/>
                                    </div>
                                    <div class="form-group">
                                        <input type="text"
                                               id="customer-zipcode"
                                               class="form-input"
                                               placeholder="ZIP Code"
                                               required="required"/>
                                    </div>
                                </div>

                                <!-- Full Address -->
                                <div class="form-group">
                                    <textarea id="customer-address"
                                              class="form-textarea"
                                              placeholder="Complete Address"
                                              rows="3"
                                              required="required"></textarea>
                                </div>
                            </form>
                        </div>

                        <!-- Payment Method Section -->
                        <div class="checkout-section payment-method-section">
                            <h2 class="section-title">Payment Method</h2>

                            <!-- Payment Options -->
                            <div class="payment-options">
                                <!-- Cash Payment (Dynamic based on order type) -->
                                <div class="payment-option" data-payment="cash">
                                    <div class="payment-option-header">
                                        <div class="payment-radio">
                                            <input type="radio" id="payment-cash" name="payment-method" value="cash"
                                                   checked="checked"/>
                                            <label for="payment-cash" class="payment-label">
                                                <div class="payment-icon cash-icon">
                                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                         stroke-width="2">
                                                        <rect x="2" y="7" width="20" height="10" rx="2"/>
                                                        <path d="M12 11c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
                                                    </svg>
                                                </div>
                                                <span class="payment-text" id="cash-payment-text">Cash on Delivery
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Online Payment -->
                                <div class="payment-option" data-payment="online">
                                    <div class="payment-option-header">
                                        <div class="payment-radio">
                                            <input type="radio" id="payment-online" name="payment-method"
                                                   value="online"/>
                                            <label for="payment-online" class="payment-label">
                                                <div class="payment-icon card-icon">
                                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                         stroke-width="2">
                                                        <rect x="3" y="5" width="18" height="14" rx="2"/>
                                                        <line x1="3" y1="9" x2="21" y2="9"/>
                                                    </svg>
                                                </div>
                                                <span class="payment-text">Pay Online</span>
                                            </label>
                                        </div>
                                    </div>

                                    <!-- Online Payment Sub-options (Hidden by default) -->
                                    <div class="online-payment-details" style="display: none;">
                                        <!-- Payment Methods Selection -->
                                        <div class="payment-methods-selection">
                                            <h3 class="subsection-title">Choose Payment Method</h3>

                                            <!-- REPLACE the Payment Methods Grid section in your XML with this updated version -->

                                            <div class="payment-methods-grid">
                                                <!-- Credit/Debit Card -->
                                                <div class="payment-method-card" data-method="card">
                                                    <div class="payment-method-icon">
                                                        <div class="card-types">
                                                            <img src="/website_customizations/static/src/images/payment-cards-logo.png"
                                                                 alt="Payment Cards"/>
                                                        </div>
                                                    </div>
                                                    <span class="payment-method-name">Credit/Debit Card</span>
                                                </div>

                                                <!-- EasyPaisa -->
                                                <div class="payment-method-card" data-method="easypaisa">
                                                    <div class="payment-method-icon">
                                                        <img src="/website_customizations/static/src/images/easypaisa-logo.png"
                                                             alt="EasyPaisa" class="payment-logo"/>
                                                    </div>
                                                    <span class="payment-method-name">EasyPaisa</span>
                                                </div>

                                                <!-- JazzCash -->
                                                <div class="payment-method-card" data-method="jazzcash">
                                                    <div class="payment-method-icon">
                                                        <img src="/website_customizations/static/src/images/jazzcash-logo.png"
                                                             alt="JazzCash" class="payment-logo"/>
                                                    </div>
                                                    <span class="payment-method-name">JazzCash</span>
                                                </div>

                                                <!-- SadaPay -->
                                                <div class="payment-method-card" data-method="sadapay">
                                                    <div class="payment-method-icon">
                                                        <img src="/website_customizations/static/src/images/sadapay-logo.png"
                                                             alt="SadaPay" class="payment-logo"/>
                                                    </div>
                                                    <span class="payment-method-name">SadaPay</span>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Payment Details Form (Hidden by default) -->
                                        <div class="payment-details-form" style="display: none;">
                                            <!-- Card Information (for card payments) -->
                                            <div class="card-info-section" id="card-details" style="display: none;">
                                                <div class="form-group">
                                                    <input type="text"
                                                           id="card-number"
                                                           class="form-input card-input"
                                                           placeholder="1234 5678 9012 3456"
                                                           maxlength="19"/>
                                                    <div class="card-type-indicator"></div>
                                                </div>

                                                <div class="form-row">
                                                    <div class="form-group">
                                                        <input type="text"
                                                               id="card-expiry"
                                                               class="form-input"
                                                               placeholder="MM/YY"
                                                               maxlength="5"/>
                                                    </div>
                                                    <div class="form-group">
                                                        <input type="text"
                                                               id="card-cvv"
                                                               class="form-input"
                                                               placeholder="CVV"
                                                               maxlength="4"/>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <input type="text"
                                                           id="card-name"
                                                           class="form-input"
                                                           placeholder="Cardholder Name"/>
                                                </div>
                                            </div>

                                            <!-- Mobile Wallet Information (for digital wallets) -->
                                            <div class="wallet-info-section" id="wallet-details" style="display: none;">
                                                <div class="form-group">
                                                    <div class="phone-input-container-fixed">
                                                        <span class="country-code-fixed">ðŸ‡µðŸ‡° +92</span>
                                                        <input type="tel"
                                                               id="wallet-phone"
                                                               class="form-input phone-input-fixed"
                                                               placeholder="300 1234567"
                                                               maxlength="10"/>
                                                    </div>
                                                </div>
                                                <div class="wallet-info">
                                                    <p class="wallet-description" id="wallet-description">
                                                        Enter your mobile number to proceed with payment
                                                    </p>
                                                </div>
                                            </div>

                                            <!-- Back Button -->
                                            <div class="payment-back-section">
                                                <button type="button" class="payment-back-btn" id="payment-back-btn">
                                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                         stroke-width="2">
                                                        <polyline points="15,18 9,12 15,6"></polyline>
                                                    </svg>
                                                    <span>Back to Payment Methods</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Place Order Button -->
                        <div class="place-order-section">
                            <button id="place-order-btn" class="place-order-btn" type="button">
                                <span class="btn-text">Place Order</span>
                                <span class="btn-arrow">â†’</span>
                                <div class="btn-loading hidden">
                                    <div class="loading-spinner"></div>
                                </div>
                            </button>
                        </div>
                    </div>

                    <!-- Right Column - Order Summary -->
                    <div class="checkout-right-column">
                        <div class="order-summary-section">
                            <!-- Total Amount Display -->
                            <div class="total-amount-display">
                                <div class="total-label">Total amount</div>
                                <div class="total-amount" id="checkout-total">Rs. 0</div>
                                <div class="secure-payment">
                                    <svg class="secure-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                         stroke-width="2">
                                        <rect x="3" y="11" width="18" height="10" rx="2" ry="2"/>
                                        <circle cx="12" cy="16" r="1"/>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                    </svg>
                                    <span>Secure Payment</span>
                                </div>
                            </div>

                            <!-- Order Summary Details -->
                            <div class="order-summary-details">
                                <h3 class="summary-title">Order Summary</h3>

                                <!-- Order Items -->
                                <div class="order-items" id="checkout-order-items">
                                    <!-- Items will be populated by JavaScript -->
                                </div>

                                <!-- Summary Calculations -->
                                <div class="summary-calculations">
                                    <div class="summary-row">
                                        <span class="summary-label">Subtotal</span>
                                        <span class="summary-value" id="checkout-subtotal">Rs. 0</span>
                                    </div>
                                    <div class="summary-row">
                                        <span class="summary-label">Shipping</span>
                                        <span class="summary-value" id="checkout-shipping">Rs. 0</span>
                                    </div>
                                    <div class="summary-row">
                                        <span class="summary-label">Tax (15%)</span>
                                        <span class="summary-value" id="checkout-tax">Rs. 0</span>
                                    </div>
                                    <div class="summary-row total-row">
                                        <span class="summary-label">Total</span>
                                        <span class="summary-value total-value" id="checkout-final-total">Rs. 0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order Confirmation Modal -->
                <div id="order-confirmation-modal" class="confirmation-modal hidden">
                    <div class="confirmation-modal-overlay"></div>
                    <div class="confirmation-modal-content">
                        <div class="confirmation-header">
                            <div class="success-checkmark">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                    <path d="M9 12l2 2 4-4"/>
                                    <circle cx="12" cy="12" r="9"/>
                                </svg>
                            </div>
                            <h2 class="confirmation-title">Order Confirmed!</h2>
                            <p class="confirmation-subtitle">Thank you for your order</p>
                        </div>

                        <div class="confirmation-details">
                            <div class="order-info">
                                <div class="info-row">
                                    <span class="info-label">Order ID:</span>
                                    <span class="info-value" id="confirmation-order-id">#12345</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Total Amount:</span>
                                    <span class="info-value" id="confirmation-total">Rs. 0</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Payment Method:</span>
                                    <span class="info-value" id="confirmation-payment">Cash on Delivery</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">Estimated Delivery:</span>
                                    <span class="info-value" id="confirmation-delivery">30-45 minutes</span>
                                </div>
                            </div>
                        </div>

                        <div class="confirmation-actions">
                            <button id="view-menu-btn" class="secondary-btn">
                                <span>Browse Menu Again</span>
                            </button>
                            <button id="track-order-btn" class="primary-btn">
                                <span>Track Order</span>
                            </button>
                        </div>

                        <button id="close-confirmation-btn" class="close-confirmation-btn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"/>
                                <line x1="6" y1="6" x2="18" y2="18"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </t>
    </template>

</odoo>