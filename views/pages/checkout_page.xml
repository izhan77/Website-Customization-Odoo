<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- ================================= CHECKOUT PAGE TEMPLATE ================================= -->
    <template id="checkout_page" name="Checkout Page">
        <t t-call="website.layout">
            <div id="wrap" class="checkout-page">
                <!-- Checkout Header -->
                <div class="checkout-header">
                    <div class="container">
                        <div class="checkout-header-content">
                            <button id="back-to-menu-btn" class="back-to-menu-btn">
                                <svg class="back-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="m15 18-6-6 6-6"/>
                                </svg>
                                Back to Menu
                            </button>
                            <h1 class="checkout-title">Checkout</h1>
                            <div class="checkout-steps">
                                <span class="step active" data-step="1">1</span>
                                <span class="step-line"></span>
                                <span class="step" data-step="2">2</span>
                                <span class="step-line"></span>
                                <span class="step" data-step="3">3</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Checkout Content -->
                <div class="checkout-main">
                    <div class="container">
                        <div class="checkout-grid">

                            <!-- Left Side - Checkout Forms -->
                            <div class="checkout-forms">

                                <!-- Step 1: Contact Information -->
                                <div class="checkout-step" id="step-1">
                                    <div class="step-header">
                                        <h2 class="step-title">Contact Information</h2>
                                        <p class="step-subtitle">Please provide your contact details</p>
                                    </div>

                                    <form class="checkout-form" id="contact-form">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label for="first-name">First Name *</label>
                                                <input type="text" id="first-name" name="firstName" required="required"/>
                                            </div>
                                            <div class="form-group">
                                                <label for="last-name">Last Name *</label>
                                                <input type="text" id="last-name" name="lastName" required="required"/>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="phone">Phone Number *</label>
                                            <input type="tel" id="phone" name="phone" placeholder="+92 300 1234567" required="required"/>
                                        </div>

                                        <div class="form-group">
                                            <label for="email">Email Address</label>
                                            <input type="email" id="email" name="email" placeholder="your@email.com"/>
                                        </div>

                                        <!-- Delivery Address -->
                                        <div class="address-section">
                                            <h3 class="address-title">Delivery Address</h3>

                                            <div class="form-group">
                                                <label for="address">Street Address *</label>
                                                <textarea id="address" name="address" rows="3" placeholder="House/Flat number, Street name, Area" required="required"></textarea>
                                            </div>

                                            <div class="form-row">
                                                <div class="form-group">
                                                    <label for="city">City *</label>
                                                    <select id="city" name="city" required="required">
                                                        <option value="">Select City</option>
                                                        <option value="karachi">Karachi</option>
                                                        <option value="lahore">Lahore</option>
                                                        <option value="islamabad">Islamabad</option>
                                                        <option value="faisalabad">Faisalabad</option>
                                                        <option value="rawalpindi">Rawalpindi</option>
                                                        <option value="multan">Multan</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label for="postal-code">Postal Code</label>
                                                    <input type="text" id="postal-code" name="postalCode" placeholder="12345"/>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="delivery-notes">Delivery Instructions (Optional)</label>
                                                <textarea id="delivery-notes" name="deliveryNotes" rows="2" placeholder="Any special instructions for delivery..."></textarea>
                                            </div>
                                        </div>

                                        <button type="button" class="continue-btn" id="continue-to-step-2">
                                            Continue to Payment
                                            <svg class="btn-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="m9 18 6-6-6-6"/>
                                            </svg>
                                        </button>
                                    </form>
                                </div>

                                <!-- Step 2: Payment Method -->
                                <div class="checkout-step hidden" id="step-2">
                                    <div class="step-header">
                                        <h2 class="step-title">Payment Method</h2>
                                        <p class="step-subtitle">Choose how you'd like to pay</p>
                                    </div>

                                    <div class="payment-methods">
                                        <!-- Cash Payment Option -->
                                        <div class="payment-method" data-method="cash">
                                            <div class="payment-option">
                                                <input type="radio" id="cash-payment" name="payment-method" value="cash"/>
                                                <label for="cash-payment" class="payment-label">
                                                    <div class="payment-icon cash-icon">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                            <rect width="20" height="14" x="2" y="5" rx="2"/>
                                                            <line x1="2" x2="22" y1="10" y2="10"/>
                                                        </svg>
                                                    </div>
                                                    <div class="payment-details">
                                                        <h4>Cash on Delivery</h4>
                                                        <p>Pay when your order arrives</p>
                                                    </div>
                                                    <div class="payment-check">✓</div>
                                                </label>
                                            </div>
                                        </div>

                                        <!-- Online Payment Option -->
                                        <div class="payment-method" data-method="online">
                                            <div class="payment-option">
                                                <input type="radio" id="online-payment" name="payment-method" value="online"/>
                                                <label for="online-payment" class="payment-label">
                                                    <div class="payment-icon card-icon">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                            <rect width="20" height="14" x="2" y="5" rx="2"/>
                                                            <line x1="2" x2="22" y1="10" y2="10"/>
                                                        </svg>
                                                    </div>
                                                    <div class="payment-details">
                                                        <h4>Pay Online</h4>
                                                        <p>Credit/Debit Card, Bank Transfer</p>
                                                    </div>
                                                    <div class="payment-check">✓</div>
                                                </label>
                                            </div>

                                            <!-- Card Details Form (Hidden initially) -->
                                            <div class="card-details-form hidden" id="card-details">
                                                <form id="payment-form">
                                                    <div class="form-group">
                                                        <label for="card-number">Card Number *</label>
                                                        <input type="text" id="card-number" name="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" required="required"/>
                                                    </div>

                                                    <div class="form-group">
                                                        <label for="cardholder-name">Cardholder Name *</label>
                                                        <input type="text" id="cardholder-name" name="cardholderName" placeholder="John Doe" required="required"/>
                                                    </div>

                                                    <div class="form-row">
                                                        <div class="form-group">
                                                            <label for="expiry-date">Expiry Date *</label>
                                                            <input type="text" id="expiry-date" name="expiryDate" placeholder="MM/YY" maxlength="5" required="required"/>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="cvv">CVV *</label>
                                                            <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="4" required="required"/>
                                                        </div>
                                                    </div>

                                                    <!-- Security Notice -->
                                                    <div class="security-notice">
                                                        <svg class="security-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                            <path d="M9 12l2 2 4-4"/>
                                                            <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                                                            <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                                                        </svg>
                                                        <span>Your payment information is secure and encrypted</span>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="step-buttons">
                                        <button type="button" class="back-btn" id="back-to-step-1">
                                            <svg class="btn-arrow-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="m15 18-6-6 6-6"/>
                                            </svg>
                                            Back
                                        </button>
                                        <button type="button" class="continue-btn" id="continue-to-step-3">
                                            Review Order
                                            <svg class="btn-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="m9 18 6-6-6-6"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>

                                <!-- Step 3: Order Review -->
                                <div class="checkout-step hidden" id="step-3">
                                    <div class="step-header">
                                        <h2 class="step-title">Review Your Order</h2>
                                        <p class="step-subtitle">Please review your order details before placing</p>
                                    </div>

                                    <div class="order-review">
                                        <!-- Contact Summary -->
                                        <div class="review-section">
                                            <h4>Contact Information</h4>
                                            <div class="review-content" id="contact-review">
                                                <!-- Populated by JavaScript -->
                                            </div>
                                        </div>

                                        <!-- Payment Summary -->
                                        <div class="review-section">
                                            <h4>Payment Method</h4>
                                            <div class="review-content" id="payment-review">
                                                <!-- Populated by JavaScript -->
                                            </div>
                                        </div>

                                        <!-- Delivery Time -->
                                        <div class="review-section">
                                            <h4>Estimated Delivery</h4>
                                            <div class="delivery-estimate">
                                                <div class="delivery-time">
                                                    <span class="delivery-date">Today, 2:30 PM - 3:00 PM</span>
                                                    <span class="delivery-note">Standard delivery (30-45 minutes)</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="step-buttons">
                                        <button type="button" class="back-btn" id="back-to-step-2">
                                            <svg class="btn-arrow-left" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="m15 18-6-6 6-6"/>
                                            </svg>
                                            Back
                                        </button>
                                        <button type="button" class="place-order-btn" id="place-order-btn">
                                            <svg class="order-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M9 12l2 2 4-4"/>
                                                <circle cx="12" cy="12" r="9"/>
                                            </svg>
                                            Place Order
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Side - Order Summary -->
                            <div class="order-summary">
                                <div class="summary-card">
                                    <h3 class="summary-title">Order Summary</h3>

                                    <div class="order-items" id="order-items-list">
                                        <!-- Populated by JavaScript -->
                                    </div>

                                    <div class="summary-calculations">
                                        <div class="calculation-row">
                                            <span>Subtotal</span>
                                            <span id="summary-subtotal">Rs. 0</span>
                                        </div>
                                        <div class="calculation-row">
                                            <span>Tax (15%)</span>
                                            <span id="summary-tax">Rs. 0</span>
                                        </div>
                                        <div class="calculation-row">
                                            <span>Delivery Fee</span>
                                            <span id="summary-delivery">Rs. 200</span>
                                        </div>
                                        <div class="calculation-row total">
                                            <span>Total</span>
                                            <span id="summary-total">Rs. 200</span>
                                        </div>
                                    </div>

                                    <button class="add-more-btn" id="add-more-items">
                                        <svg class="add-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="12" y1="5" x2="12" y2="19"/>
                                            <line x1="5" y1="12" x2="19" y2="12"/>
                                        </svg>
                                        Add More Items
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Order Confirmation Modal -->
            <div id="order-confirmation-modal" class="order-modal hidden">
                <div class="modal-overlay"></div>
                <div class="modal-content">
                    <div class="confirmation-icon">
                        <svg class="success-checkmark" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 12l2 2 4-4"/>
                            <circle cx="12" cy="12" r="9"/>
                        </svg>
                    </div>

                    <h2 class="confirmation-title">Order Confirmed!</h2>
                    <p class="confirmation-subtitle">Thank you for your order. We've received it and will prepare it shortly.</p>

                    <div class="order-details">
                        <div class="order-number">
                            <strong>Order #<span id="order-number">ORD-12345</span></strong>
                        </div>
                        <div class="estimated-time">
                            <p>Estimated delivery: <strong><span id="estimated-delivery">2:30 PM - 3:00 PM</span></strong></p>
                        </div>
                    </div>

                    <div class="confirmation-buttons">
                        <button class="track-order-btn" id="track-order-btn">
                            <svg class="track-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 11H1l2-2m0 0l2-2m-2 2v6a2 2 0 002 2h6"/>
                                <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>
                            </svg>
                            Track Order
                        </button>
                        <button class="continue-shopping-btn" id="continue-shopping-btn">
                            <svg class="menu-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="3" y1="12" x2="21" y2="12"/>
                                <line x1="3" y1="6" x2="21" y2="6"/>
                                <line x1="3" y1="18" x2="21" y2="18"/>
                            </svg>
                            Browse Menu
                        </button>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- ================================= CHECKOUT PAGE ROUTE ================================= -->
    <record id="checkout_page_route" model="website.page">
        <field name="name">Checkout</field>
        <field name="url">/checkout</field>
        <field name="view_id" ref="checkout_page"/>
        <field name="website_published" eval="True"/>
        <field name="is_published" eval="True"/>
    </record>
</odoo>